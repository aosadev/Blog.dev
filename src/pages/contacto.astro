---
import BlogLayout from '../layouts/BlogLayout.astro';

// Declaración de grecaptcha para TypeScript
declare const grecaptcha: any;
---

<BlogLayout>
  <section class="max-w-3xl mx-auto px-4 py-12">
    <h1 class="text-5xl font-bold text-gray-800 mb-6">Contáctame</h1>
    <p class="text-lg text-gray-600 mb-8">
      Si tienes alguna pregunta o comentario, rellena el siguiente formulario. Responderé lo antes posible.
    </p>

    <form action="https://formspree.io/f/YOUR_FORM_ID" method="POST" class="space-y-6" onsubmit="return validateRecaptcha();">
      <!-- Campo Nombre -->
      <div>
        <label for="name" class="block text-lg font-medium text-gray-700">Nombre</label>
        <input type="text" id="name" name="name" required class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm" placeholder="Tu nombre" />
      </div>

      <!-- Campo Email -->
      <div>
        <label for="email" class="block text-lg font-medium text-gray-700">Correo Electrónico</label>
        <input type="email" id="email" name="_replyto" required class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm" placeholder="tuemail@example.com" />
      </div>

      <!-- Campo Mensaje -->
      <div>
        <label for="message" class="block text-lg font-medium text-gray-700">Mensaje</label>
        <textarea id="message" name="message" rows="5" required class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm" placeholder="Escribe tu mensaje aquí..."></textarea>
      </div>

      <!-- Google reCAPTCHA -->
      <div class="g-recaptcha" data-sitekey="6LcSL0sqAAAAAHF_m5l8lvq7MFm4bcPyamkl67T_"></div>

      <!-- Botón de envío -->
      <div>
        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-md">
          Enviar Mensaje
        </button>
      </div>
    </form>
  </section>

  <!-- Script de Google reCAPTCHA -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- Validación de reCAPTCHA -->
  <script>
    function validateRecaptcha() {
      const response = grecaptcha.getResponse();
      if (response.length === 0) {
        alert("Por favor, completa el CAPTCHA.");
        return false;
      }
      return true;
    }
  </script>
</BlogLayout>
